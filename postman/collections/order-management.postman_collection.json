{
	"info": {
		"_postman_id": "83c40399-c647-4974-9945-d9489ef39177",
		"name": "order-management",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "43598383",
		"_collection_link": "https://bi-6280922.postman.co/workspace/Bi's-Workspace~c7bfba9a-b725-4526-89a8-7a7f207b525a/collection/43598383-83c40399-c647-4974-9945-d9489ef39177?action=share&source=collection_link&creator=43598383"
	},
	"item": [
		{
			"name": "customer",
			"item": [
				{
					"name": "createCustomer",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// Get the response body\r",
									"const responseBody = pm.response.json();\r",
									"\r",
									"pm.globals.set(\"customer_id\", responseBody.id);\r",
									"pm.globals.set(\"customer_email\", responseBody.email);\r",
									"pm.globals.set(\"customer_cpf\", responseBody.cpf);"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Guilherme Paternezi\",\n    \"email\": \"guipaternezi11@gmail.com\",\n    \"cpf\": \"50762529862\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8080/customer",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"customer"
							]
						}
					},
					"response": []
				},
				{
					"name": "getAllCustomer",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/customer",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"customer"
							]
						}
					},
					"response": []
				},
				{
					"name": "getCustomerById",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/customer/{{customer_id}}",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"customer",
								"{{customer_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "getCustomerByEmail",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/customer/email/{{customer_email}}",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"customer",
								"email",
								"{{customer_email}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "getCustomerByCpf",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/customer/cpf/{{customer_cpf}}",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"customer",
								"cpf",
								"{{customer_cpf}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "updateCustomer",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Wes Paternezi\",\n    \"email\": \"wes@gmail.com\",\n    \"cpf\": \"11162529865\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8080/customer/{{customer_id}}",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"customer",
								"{{customer_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "deleteCustomer",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/customer/{{customer_id}}",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"customer",
								"{{customer_id}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "product",
			"item": [
				{
					"name": "createProduct",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// Get the response body\r",
									"const responseBody = pm.response.json();\r",
									"\r",
									"// Save the ID to the global environment\r",
									"pm.globals.set(\"product_id\", responseBody.id);"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"name\": \"salada da verdinha\",\r\n    \"category\": \"SNACK\",\r\n    \"price\": 50.00,\r\n    \"amount\": 10\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8080/product",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"product"
							]
						}
					},
					"response": []
				},
				{
					"name": "updateProduct",
					"request": {
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"id\": \"{{product_id}}\",\r\n    \"name\": \"nova salada da verdinha\",\r\n    \"price\": 150.00,\r\n    \"category\": \"SNACK\",\r\n    \"amount\": 5\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8080/product",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"product"
							]
						}
					},
					"response": []
				},
				{
					"name": "getAllProductsByCategory",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/product/category/SNACK",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"product",
								"category",
								"SNACK"
							]
						}
					},
					"response": []
				},
				{
					"name": "getAllProducts",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/product",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"product"
							]
						}
					},
					"response": []
				},
				{
					"name": "getProductById",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/product/{{product_id}}",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"product",
								"{{product_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "deleteProductById",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/product/{{product_id}}",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"product",
								"{{product_id}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "order",
			"item": [
				{
					"name": "createOrder",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// Get the response body\r",
									"const responseBody = pm.response.json();\r",
									"\r",
									"pm.globals.set(\"order_id\", responseBody.id);\r",
									"pm.globals.set(\"status\", responseBody.status);"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"customer_id\": \"{{customer_id}}\",\n    \"products\": [\n        \"{{product_id}}\"\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8080/order",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"order"
							]
						}
					},
					"response": []
				},
				{
					"name": "getAllOrders",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/order",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"order"
							]
						}
					},
					"response": []
				},
				{
					"name": "getOrderById",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/order/{{order_id}}",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"order",
								"{{order_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "getAllOrdersByStatus",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/order/status/{{status}}",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"order",
								"status",
								"{{status}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "updateOrder - CREATED -> PAID -> RECEIVED",
					"request": {
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"status\": \"PAID\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8080/order/{{order_id}}",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"order",
								"{{order_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "updateOrder - PAID -> RECEIVED",
					"request": {
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"status\": \"RECEIVED\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8080/order/{{order_id}}",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"order",
								"{{order_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "updateOrder - RECEIVED -> IN_PREPARATION",
					"request": {
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"status\": \"IN_PREPARATION\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8080/order/{{order_id}}",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"order",
								"{{order_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "updateOrder - IN_PREPARATION -> OVERDUE",
					"request": {
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"status\": \"OVERDUE\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8080/order/{{order_id}}",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"order",
								"{{order_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "updateOrder - OVERDUE -> READY",
					"request": {
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"status\": \"READY\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8080/order/{{order_id}}",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"order",
								"{{order_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "updateOrder - READY -> COMPLETED",
					"request": {
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"status\": \"COMPLETED\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8080/order/{{order_id}}",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"order",
								"{{order_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "cancelOrder",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/order/{{order_id}}",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"order",
								"{{order_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "updateOrder - CREATED -> CANCELLED",
					"request": {
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"status\": \"CANCELED\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8080/order/{{order_id}}",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"order",
								"{{order_id}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "payment",
			"item": [
				{
					"name": "createQrcode",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// Get the response body",
									"const responseBody = pm.response.json();",
									"",
									"pm.globals.set(\"payment_id\", responseBody.id);"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"order_id\": \"{{order_id}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8080/payment",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"payment"
							]
						}
					},
					"response": []
				},
				{
					"name": "getPaymentDetails",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/payment/{{payment_id}}",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"payment",
								"{{payment_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "processWebhook",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"action\": \"order.processed\",\n  \"api_version\": \"v1\",\n  \"application_id\": \"5826758621263433\",\n  \"data\": {\n    \"external_reference\": \"baf316f9-0883-44c7-9bbe-efb504e344be\",\n    \"id\": \"ORDTST01K1ENEXBJE5WBXZ0V98N8C72K\",\n    \"status\": \"processed\",\n    \"status_detail\": \"accredited\",\n    \"total_amount\": \"37.50\",\n    \"total_paid_amount\": \"37.50\",\n    \"transactions\": {\n      \"payments\": [\n        {\n          \"amount\": \"37.50\",\n          \"id\": \"PAY01K1ENEXBJE5WBXZ0V9AJ3KS7X\",\n          \"paid_amount\": \"37.50\",\n          \"payment_method\": {\n            \"id\": \"account_money\",\n            \"installments\": 1,\n            \"type\": \"account_money\"\n          },\n          \"reference\": {\n            \"id\": \"120425553788\"\n          },\n          \"status\": \"processed\",\n          \"status_detail\": \"accredited\"\n        }\n      ]\n    },\n    \"type\": \"qr\",\n    \"version\": 2\n  },\n  \"date_created\": \"2025-07-30T21:58:38.698731467Z\",\n  \"live_mode\": false,\n  \"type\": \"order\",\n  \"user_id\": \"2580894029\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8080/payment/webhook",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"payment",
								"webhook"
							]
						}
					},
					"response": []
				}
			]
		}
	]
}